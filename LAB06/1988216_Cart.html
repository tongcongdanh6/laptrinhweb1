<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Cart</title>
    <link rel="stylesheet" href="vendors/font-awesome/css/all.css" type="text/css">
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/mdb.min.css" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto" type="text/css">
    <style>
        html,
        body {
            font-family: "Roboto", sans-serif;
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
            background: radial-gradient(circle, rgba(238, 174, 202, 1) 0%, rgba(148, 187, 233, 1) 100%);
        }

        .container-fluid {
            padding: 0;
        }

        .nav-item {
            padding: 5px 25px;
        }

        .nav-item:hover {
            background-color: #5985ff;
            border-radius: 10px;
        }

        .heading-cart {
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100px;
            text-align: center;
            background: linear-gradient(90deg, rgba(63, 94, 251, 0.5) 17%, rgba(252, 70, 107, 0.5) 100%);
        }

        .heading-cart .small {
            display: block;
            font-size: 11px;
        }

        .cart-wrapper {
            background-color: #fff;
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
        }

        .cart-left-content {
            border-right: 1px #a1a1a1 dashed;
            padding-right: 50px;
        }

        .cart-right-content {
            padding-left: 50px;
        }

        .skin-light .number-input.number-input {
            border: 1px solid #ced4da;
            border-radius: .25rem;
        }

        .plus,
        .minus {
            cursor: pointer;
            font-size: 16px;
            background-color: transparent;
            padding: 5px 15px;
            margin: 0px;
            border: 1px solid #ced4da;
        }

        .minus {
            border-top-left-radius: 5px;
            border-bottom-left-radius: 5px;
        }

        .plus {
            border-top-right-radius: 5px;
            border-bottom-right-radius: 5px;
        }

        .minus:focus {
            border: none;
        }

        .plus::before {
            content: '+';
        }

        .minus::after {
            content: '-';
        }

        .quantity {
            text-align: center;
            padding: 5px 15px;
            border-top: 1px solid #ced4da;
            border-bottom: 1px solid #ced4da;
            border-left: none;
            border-right: none;
            max-width: 30%;

        }

        .price-product,
        .total-price {
            font-weight: bold;
        }

        strong {
            font-weight: bold;
        }

        /* Remove Arrow */
        /* Chrome, Safari, Edge, Opera */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* Firefox */
        input[type=number] {
            -moz-appearance: textfield;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg navbar-dark primary-color">
            <a class="navbar-brand" href="#">Cửa hàng</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
                aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="basicExampleNav">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Trang chủ
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Blog</a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">Shop</a>
                        <div class="dropdown-menu dropdown-primary" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="#">Shirt</a>
                            <a class="dropdown-item" href="#">Leather</a>
                            <a class="dropdown-item" href="#">T-Shirt</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Liên hệ</a>
                    </li>
                </ul>
                <form class="form-inline">
                    <div class="md-form my-0">
                        <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
                    </div>
                </form>
            </div>
        </nav>
        <!-- ./Navigation -->
    </div>


    <!-- Cart -->
    <div class="container py-5" id="cart">
        <!-- Cart Header -->
        <div class="row">
            <div class="col-lg-12 heading-cart">
                <div>
                    <h2>Giỏ hàng của bạn</h2>
                    <div class="small">Vui lòng kiểm tra kỹ sản phẩm trước khi thực hiện thanh toán!</div>
                </div>
            </div>
        </div>
        <!-- ./Cart Header -->
        <form method="POST" id="frm-cart">
            <div class="row cart-wrapper py-5 px-5">
                <!-- Left Content -->
                <div class="col-lg-8 cart-left-content">
                    <!-- Card Product -->
                    <div class="card mb-3">
                        <div class="card-body pt-4">
                            <h5 class="mb-4">Giỏ hàng của bạn (<span>2</span> sản phẩm)</h5>
                            <!-- 1st Product -->
                            <div class="row mb-4" id="blue-shirt">
                                <div class="col-md-5 col-lg-3 col-xl-3">
                                    <div class="view zoom overlay z-depth-1 rounded mb-3 mb-md-0">
                                        <img class="img-fluid w-100" src="images/blue_shirt_thumb.jpg" alt="Sample">
                                        <a href="#!">
                                            <div class="mask">
                                                <img class="img-fluid w-100" src="images/blue_shirt_zoomin.jpg">
                                                <div class="mask rgba-black-slight"></div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                                <div class="col-md-7 col-lg-9 col-xl-9">
                                    <div>
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h5>Sơ mi Xanh</h5>
                                                <p class="mb-3 text-muted text-uppercase small">Sơ mi - xanh</p>
                                                <p class="mb-2 text-muted text-uppercase small">Màu: xanh</p>
                                                <p class="mb-3 text-muted text-uppercase small">Cỡ: M</p>
                                            </div>
                                            <div class="control-amount">
                                                <div class="input-group justify-content-center">
                                                    <button class="minus"></button>
                                                    <input class="quantity" min="1" max="10" step="1" name="quantity"
                                                        value="1" type="number" required>
                                                    <button class="plus"></button>
                                                </div>
                                                <small class="form-text text-muted text-center">
                                                    (Tối đa order được 10 sản phẩm)
                                                </small>
                                                <div class="text-center price-product">$15.00</div>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>
                                                <a href="#!" type="button"
                                                    class="card-link-secondary small text-uppercase mr-3"><i
                                                        class="fas fa-trash-alt mr-1"></i> Xóa sản phẩm này </a>
                                                <a href="#!" type="button"
                                                    class="card-link-secondary small text-uppercase"><i
                                                        class="fas fa-heart mr-1"></i> Di chuyển vào mục ưa thích </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- ./1st Product -->

                            <hr class="mb-4">

                            <!-- 2nd Product -->
                            <div class="row mb-4" id="red-shirt">
                                <div class="col-md-5 col-lg-3 col-xl-3">
                                    <div class="view zoom overlay z-depth-1 rounded mb-3 mb-md-0">
                                        <img class="img-fluid w-100" src="images/red_shirt_thumb.jpg" alt="Sample">
                                        <a href="#!">
                                            <div class="mask">
                                                <img class="img-fluid w-100" src="images/red_shirt_zoomin.jpg">
                                                <div class="mask rgba-black-slight"></div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                                <div class="col-md-7 col-lg-9 col-xl-9">
                                    <div>
                                        <div class="d-flex justify-content-between">
                                            <div>
                                                <h5>Sơ mi Đỏ</h5>
                                                <p class="mb-3 text-muted text-uppercase small">Sơ mi - đỏ</p>
                                                <p class="mb-2 text-muted text-uppercase small">Màu: đỏ</p>
                                                <p class="mb-3 text-muted text-uppercase small">Cỡ: M</p>
                                            </div>
                                            <div class="control-amount">
                                                <div class="input-group justify-content-center">
                                                    <button class="minus"></button>
                                                    <input class="quantity" min="1" max="10" step="1" name="quantity"
                                                        value="1" type="number" required>
                                                    <button class="plus"></button>
                                                </div>
                                                <small class="form-text text-muted text-center">
                                                    (Tối đa order được 10 sản phẩm)
                                                </small>
                                                <div class="text-center price-product">$30.00</div>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>
                                                <a href="#!" type="button"
                                                    class="card-link-secondary small text-uppercase mr-3"><i
                                                        class="fas fa-trash-alt mr-1"></i> Xóa sản phẩm này </a>
                                                <a href="#!" type="button"
                                                    class="card-link-secondary small text-uppercase"><i
                                                        class="fas fa-heart mr-1"></i> Di chuyển vào mục ưa thích </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- ./2nd Product -->
                            <p class="text-primary mb-0"><i class="fas fa-info-circle mr-1"></i> Việc thực hiện thêm sản
                                phẩm vào giỏ hàng của bạn không đồng nghĩa với bạn đặt trước chúng!</p>
                        </div>
                    </div>
                    <!-- ./Card Product -->

                    <!-- Note Delivery and Payment Method -->
                    <div class="card">
                        <div class="card-body">
                            <div class="mb-3">
                                <div class=" pt-4">

                                    <h5 class="mb-4">Giao hàng dự kiến</h5>

                                    <p class="mb-0"> Thứ 2, 05/09/2020 12:30 </p>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="pt-4">

                                    <h5 class="mb-4">Hình thức thanh toán</h5>

                                    <img class="mr-2" width="45px" src="images/visa.svg" alt="Visa">
                                    <img class="mr-2" width="45px" src="images/mastercard.svg" alt="Mastercard">
                                    <img class="mr-2" width="45px" src="images/paypal.png" alt="PayPal acceptance mark">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- ./Note Delivery and Payment Method -->

                </div>
                <!-- ./Left Content -->

                <!-- Cart Right Content -->
                <div class="col-lg-4 cart-right-content">
                    <!-- Summary -->
                    <div class="card mb-3">
                        <div class="card-body pt-4">
                            <h4 class="mb-3">Tổng quan giỏ hàng</h4>

                            <ul class="list-group list-group-flush" id="summary-price">
                                <li
                                    class="list-group-item d-flex justify-content-between align-items-center border-0 px-0">
                                    Tạm tính
                                    <span id="temp-price">$35.00</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                                    Tiền ship
                                    <span>Miễn phí</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                                    VAT (10%)
                                    <span id="vat">$3.50</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center px-0 mb-3">
                                    <div class="total-price">
                                        <strong>Tổng cộng</strong>
                                        <strong>
                                            <p class="mb-0">(bao gồm VAT)</p>
                                        </strong>
                                    </div>
                                    <span><strong id="price-total">$38.50</strong></span>
                                </li>
                            </ul>

                            <button type="submit" class="btn btn-primary btn-block">THANH TOÁN</button>

                        </div>
                    </div>
                    <!-- ./Summary -->

                    <!-- Coupon Code -->
                    <div class="card mb-3">
                        <div class="card-body pt-4">

                            <a class="dark-grey-text d-flex justify-content-between" data-toggle="collapse"
                                href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                                Nhập mã khuyến mãi (nếu có)
                                <span><i class="fas fa-chevron-down pt-1"></i></span>
                            </a>

                            <div class="collapse" id="collapseExample">
                                <div class="mt-3">
                                    <div class="md-form md-outline mb-0">
                                        <input type="text" id="discount-code" class="form-control font-weight-light"
                                            placeholder="Nhập mã tại đây" autocomplete="off">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- ./Coupon Code -->

                </div>
                <!-- ./Cart Right Content -->
            </div>
        </form>
    </div>
    <!-- ./Cart -->

    <!-- Footer -->
    <footer class="page-footer font-small elegant-color">
        <div class="footer-copyright text-center py-3">
            Tống Công Danh - MSSV: 1988216
        </div>
    </footer>
    <!-- Footer -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/mdb.min.js"></script>

    <script>
        const MIN = 1;
        const MAX = 10;
        const mockupData = {
            "products": [
                {
                    "id": "blue-shirt",
                    "name": "Blue Shirt",
                    "price": 15
                },
                {
                    "id": 'red-shirt',
                    "name": "Red Shirt",
                    "price": 30
                }
            ]
        };

        // Change Price Per Product when user clicked
        const changePricePerProduct = function (id, obj) {
            let newPrice;
            let qty = $(`${id} .quantity`);
            //console.log(qty.val());

            if ($(obj).hasClass('minus')) {

                if (parseInt(qty.val()) > MIN) {
                    qty[0].stepDown(); // DOM HTML
                }
            }
            else {
                if (parseInt(qty.val()) <= MAX) {
                    qty[0].stepUp();  // DOM HTML
                }
            }

            intQty = parseInt(qty.val());

            newPrice = mockupData["products"].filter((e) => e.id === id.substr(1))[0]["price"] * intQty;
            $(obj).parents(".control-amount")
                .children(".price-product")
                .html(`$${newPrice.toFixed(2)}`);
        }

        // Change summary cart
        const changeTotalPrice = function () {
            let tempPrice = 0;
            $($(".price-product")).toArray().forEach((e) => {
                tempPrice += parseFloat(e.innerText.split("$")[1]);
            });
            $("#temp-price").html(`$${tempPrice.toFixed(2)}`);
            $("#vat").html(`$${(tempPrice * 0.1).toFixed(2)}`);

            $("#price-total").html(`$${(tempPrice * 1.1).toFixed(2)}`);
        }

        $(document).ready(function () {
            //Initialization
            changeTotalPrice();
        });


        // Self-Invoke to check valid Number?
        (function () {
            var p1 = $("#blue-shirt .quantity");
            var p2 = $("#red-shirt .quantity");

            var checkValidNumber = function () {
                if (this.value < MIN) {
                    this.setCustomValidity(`Số lượng sản phẩm phải LỚN HƠN HOẶC BẰNG ${MIN - 1}`);
                }
                else if (this.value > MAX) {
                    this.setCustomValidity(`Số lượng sản phẩm phải BÉ HƠN HOẶC BẰNG ${MAX}`);
                }
                else {
                    this.setCustomValidity('');
                }
            }
            p1[0].onchange = checkValidNumber;
            p2[0].onchange = checkValidNumber;

        }());

        //Prevent submit the form
        $("#frm-cart").on("submit", function (event) {
            event.preventDefault();
        });


        // Listeners
        $("#blue-shirt button").on("click", function () {
            changePricePerProduct("#blue-shirt", this);
            changeTotalPrice();
        });
        $("#red-shirt button").on("click", function () {
            changePricePerProduct("#red-shirt", this);
            changeTotalPrice();
        });

    </script>
</body>

</html>